<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
						 xmlns:renamer="clr-namespace:ImageUtility.Features.Renamer"
						 xmlns:suki="https://github.com/kikipoulet/SukiUI"
						 xmlns:icon="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
             mc:Ignorable="d"
						 x:DataType="renamer:RenamerViewModel"
             x:Class="ImageUtility.RenamerView">
	<ScrollViewer VerticalScrollBarVisibility="Hidden"
								HorizontalAlignment="Center">
		<WrapPanel Margin="10" Orientation="Horizontal">
			
			<Grid>
				
			  <!-- Directories -->
				<suki:GlassCard Margin="10" 
												CornerRadius="10">
					
					<StackPanel>
						<suki:BusyArea IsBusy="{Binding IsLoadingDirectories}"
												   BusyText="{Binding StatusMessage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
							<suki:GroupBox Header="Source/Destination Directories">
								<StackPanel Spacing="10" Margin="10">
									<StackPanel>
										<Grid>
											<StackPanel>
												<TextBlock FontWeight="DemiBold"
												   Text="Renamer Help"
												   VerticalAlignment="Top"/>
										        <TextBlock Text="get help using the Renamer"
						                                   VerticalAlignment="Bottom"
														   Foreground="{DynamicResource SukiLowText}"/>
											</StackPanel>
											<Button HorizontalAlignment="Right"
										            Command="{Binding ShowHelpDialogCommand}"
										            Classes="Flat Rounded Primary"
										            Content="HELP"
										            Padding="4"
										            Height="30"
										            Width="60"/>
										</Grid>
										
									</StackPanel>
									<StackPanel Spacing="10" Orientation="Horizontal">
										<TextBox Text="{Binding SourceDir, UpdateSourceTrigger=PropertyChanged}" 
													 Watermark="Source Directory" 
													 suki:TextBoxExtensions.Prefix="{icon:MaterialIconExt Kind=Folder}"
													 Classes="clearButton"
													 Width="500"/>
										<Button Command="{Binding SetSourceDirectoryCommand}"
														Background="Transparent"
														BorderBrush="Transparent"
														Cursor="Hand">
											<Button.Content>
												<icon:MaterialIcon Kind="FolderOpen" Width="22" Height="22"/>
											</Button.Content>
										</Button>
									  
									</StackPanel>
									<StackPanel Spacing="10" Orientation="Horizontal">
										<TextBox Text="{Binding DestinationDir, UpdateSourceTrigger=PropertyChanged}"
													 Watermark="Destination Directory"
													 suki:TextBoxExtensions.Prefix="{icon:MaterialIconExt Kind=Folder}"
													 Classes="clearButton"
													 Width="500"/>
										<Button Command="{Binding SetDestinationDirectoryCommand}"
														Background="Transparent"
														BorderBrush="Transparent"
														Cursor="Hand">
											<Button.Content>
												<icon:MaterialIcon Kind="FolderOpen" Width="22" Height="22"/>
											</Button.Content>
										</Button>
									</StackPanel>
								</StackPanel>
							</suki:GroupBox>
					</suki:BusyArea>
					<!-- End Directiories -->
					<!-- Options -->
					<suki:GroupBox Header="Options" >
							<StackPanel Spacing="10" >
								<suki:BusyArea IsBusy="{Binding IsLoading}"
															 BusyText="{Binding StatusMessage}">
								<suki:GlassCard CornerRadius="6" Width="584">
									<StackPanel>

										<Grid Margin="0,2,0,0">
											<ToggleSwitch HorizontalAlignment="Right"
																		VerticalAlignment="Top"
																		Classes="Switch"
																		IsChecked="{Binding UseExternalFile, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
											<TextBlock HorizontalAlignment="Left"
																	VerticalAlignment="Top"
																	FontWeight="DemiBold"
																	Text="Use External File" />

											<TextBlock Margin="0,16,0,0"
																 HorizontalAlignment="Left"
																 VerticalAlignment="Bottom"
																 FontSize="12"
																 Foreground="{DynamicResource SukiLowText}"
																 Text="Use an external text file for the renaming pattern."
																 />
										</Grid>
										<Grid Margin="0, 10,0,0">
											<TextBlock HorizontalAlignment="Left"
																 VerticalAlignment="Top"
																 FontWeight="DemiBold"
																 Text="Load External File" />
											<TextBlock Text="Load an external file for renaming pattern."
																 VerticalAlignment="Bottom"
																 FontSize="12"
																 Margin="0, 16, 0, 0"/>
											<Button Command="{Binding LoadExternalCommand}"
															HorizontalAlignment="Right"
															Margin="0,0,10,0"
															Content="..."
															Padding="6"
															Height="30"
															Width="44"
															
															IsEnabled="{Binding UseExternalFile}">

											</Button>
										</Grid>
										<Expander Margin="-12,10,0,0"
															Header="Pattern"
															IsExpanded="False">
											<TextBox Text="{Binding Pattern, UpdateSourceTrigger=PropertyChanged}"
															 IsEnabled="{Binding !UseExternalFile}"
															 suki:TextBoxExtensions.Prefix="{icon:MaterialIconExt Kind=Paperclip}"
															 suki:TextBoxExtensions.AddDeleteButton="True"
															 Watermark="filename_number.ext"/>
										</Expander>
										<Expander Margin="-12,10,0,0"
													Header="Numbering"
													IsExpanded="False">
											<NumericUpDown suki:NumericUpDownExtensions.Unit="{icon:MaterialIconExt Kind=NumericOneCircle}"
																		 Minimum="0"
																		 Maximum="100000"
																		 Increment="1"
																		 FormatString="F0"
																		 IsEnabled="{Binding !UseExternalFile, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
										</Expander>

										<Grid Margin="0 10">
											<StackPanel>
												<TextBlock FontWeight="DemiBold"
																	 Text="Copy Files"/>
												<TextBlock Foreground="{DynamicResource SukiLowText}"
																	 FontSize="12"
																	 Width="400"
																	 TextWrapping="Wrap"
																	 HorizontalAlignment="Left"
																	 Text="Copy files to destination directory, this will copy [source] files. the original files won't be touched."/>
											</StackPanel>
											<ToggleSwitch HorizontalAlignment="Right"
																		VerticalAlignment="Center"
																		Classes="Switch"
																		IsChecked="{Binding CopyFiles, Mode=TwoWay}"/>
										</Grid>
										<Grid Margin="0 10, 0, 30">
											<StackPanel>
												<TextBlock FontWeight="DemiBold"
														   Text="Open On Completion"/>
												<TextBlock Foreground="{DynamicResource SukiLowText}"
														   FontSize="12"
														   Text="Open the destination folder when the renaming operation is complete."/>
											</StackPanel>
											<ToggleSwitch HorizontalAlignment="Right"
														  VerticalAlignment="Center"
														  Classes="Switch"
														  IsChecked="{Binding OpenOnComplete, Mode=TwoWay}"/>
										</Grid>
										
									</StackPanel>
								</suki:GlassCard>
								</suki:BusyArea>
							</StackPanel>
						</suki:GroupBox>
						<!--End Options-->

						<!-- Commands -->
						<Grid Width="400" Margin="0 -20 0 0"
						      VerticalAlignment="Bottom">
							<StackPanel HorizontalAlignment="Center"
										VerticalAlignment="Bottom"
										Orientation="Horizontal"
										Spacing="20">
								<Button Command="{Binding RenameCommand}"
										HorizontalAlignment="Left"
										VerticalAlignment="Bottom"
										Classes="Flat Rounded"
										Content="APPLY"
										Padding="6"
										Height="40"
										Width="140"
										IsEnabled="{Binding CanRename}"/>

								<Button HorizontalAlignment="Right"
										VerticalAlignment="Bottom"
										Command="{Binding ClearCommand}"
										Classes="Flat Rounded Danger"
										Content="CLEAR"
										Padding="6"
										Height="40"
										Width="140"
										IsEnabled="{Binding CanClear}"/>

								
							</StackPanel>
						</Grid>
						<!-- End Commands -->
				</StackPanel>		
			 </suki:GlassCard>
			</Grid>
		</WrapPanel>
	</ScrollViewer>
</UserControl>

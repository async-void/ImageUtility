<suki:SukiWindow x:Class="ImageUtility.Views.MainWindow"
	               xmlns="https://github.com/avaloniaui"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:vm="using:ImageUtility.ViewModels"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			           xmlns:suki="https://github.com/kikipoulet/SukiUI"
								 xmlns:converters="clr-namespace:ImageUtility.Converters"
                 xmlns:avalonia="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
                 x:DataType="vm:MainWindowViewModel"
                 Icon="/Assets/Image_Utility.ico"
								 BackgroundAnimationEnabled="{Binding AnimationsEnabled}"
                 BackgroundShaderFile="{Binding CustomShaderFile}"
                 BackgroundStyle="{Binding BackgroundStyle}"
                 BackgroundTransitionsEnabled="{Binding TransitionsEnabled}"
                 CanFullScreen="True"
                 CanMinimize="{Binding !WindowLocked}"
                 CanMove="{Binding !WindowLocked}"
                 CanPin="True"
                 CanResize="{Binding !WindowLocked}"
								 IsMenuVisible="True"
                 IsTitleBarVisible="{Binding TitleBarVisible, Mode=TwoWay}"
                 ShowBottomBorder="{Binding ShowBottomBar}"
                 ShowTitlebarBackground="{Binding ShowTitleBar}"
								 WindowStartupLocation="CenterScreen"
								 Height="1000"
								 Width="1500"
								 mc:Ignorable="d" 
                 Title="ImageUtility">

	<suki:SukiWindow.TitleBarContextMenu>
		<ContextMenu>
			<MenuItem Header="Custom TitleBar Context Menu Item" />
		</ContextMenu>
	</suki:SukiWindow.TitleBarContextMenu>
	<suki:SukiWindow.Hosts>
		<suki:SukiToastHost Manager="{Binding ToastManager}" />
		<suki:SukiDialogHost Manager="{Binding DialogManager}" />
	</suki:SukiWindow.Hosts>
	<suki:SukiWindow.LogoContent>
		<avalonia:MaterialIcon Width="20"
													 Height="20"
													 VerticalAlignment="Center"
													 Foreground="{DynamicResource SukiPrimaryColor}"
													 Kind="Image360">
			<avalonia:MaterialIcon.Transitions>
				<Transitions>
					<BrushTransition Property="Foreground" Duration="{DynamicResource ShortAnimationDuration}" />
				</Transitions>
			</avalonia:MaterialIcon.Transitions>
		</avalonia:MaterialIcon>
	</suki:SukiWindow.LogoContent>
	<suki:SukiWindow.MenuItems>
		<MenuItem Header="Toggles">
			<MenuItem Command="{Binding ToggleBaseThemeCommand}" Header="{Binding BaseTheme}">
				<MenuItem.Icon>
					<avalonia:MaterialIcon Kind="Lightbulb" />
				</MenuItem.Icon>
			</MenuItem>

			<MenuItem Command="{Binding ToggleTitleBarCommand}"
								Header="Title Bar"
								ToolTip.Tip="Toggles the title bar.">
				<MenuItem.Icon>
					<avalonia:MaterialIcon Kind="{Binding TitleBarVisible, Converter={x:Static converters:BoolToIconConverters.Visibility}}" />
				</MenuItem.Icon>
			</MenuItem>
			<MenuItem Command="{Binding ToggleTitleBackgroundCommand}" Header="Change TitleBar Background Visibility">
				<MenuItem.Icon>
					<avalonia:MaterialIcon Kind="Visibility" />
				</MenuItem.Icon>
			</MenuItem>
			<MenuItem Command="{Binding ToggleRightToLeftCommand}"
								Header="Right To Left"
								ToolTip.Tip="Toggles the right to left.">
				<MenuItem.Icon>
					<avalonia:MaterialIcon Kind="SwapHorizontal" />
				</MenuItem.Icon>
			</MenuItem>

			<MenuItem Header="Window Options">
				<MenuItem.Icon>
					<avalonia:MaterialIcon Kind="WindowRestore" />
				</MenuItem.Icon>
				<MenuItem Command="{Binding ToggleWindowLockCommand}"
									Header="Window Lock"
									ToolTip.Tip="Toggles minimizing and resizing.">
					<MenuItem.Icon>
						<avalonia:MaterialIcon Kind="{Binding WindowLocked, Converter={x:Static converters:BoolToIconConverters.WindowLock}}" />
					</MenuItem.Icon>
				</MenuItem>
				<MenuItem Command="{Binding $parent[suki:SukiWindow].ToggleFullScreen}"
									Header="Fullscreen"
									ToolTip.Tip="Makes the app fullscreen.">
					<MenuItem.Icon>
						<avalonia:MaterialIcon Kind="Fullscreen" />
					</MenuItem.Icon>
				</MenuItem>
				<Separator />
				<MenuItem Header="CanFullscreen"
									IsChecked="{Binding $parent[suki:SukiWindow].CanFullScreen, Mode=TwoWay}"
									ToggleType="CheckBox" />

				<MenuItem Header="CanPin"
									IsChecked="{Binding $parent[suki:SukiWindow].CanPin, Mode=TwoWay}"
									ToggleType="CheckBox" />

				<MenuItem Header="CanMinimize"
									IsChecked="{Binding $parent[suki:SukiWindow].CanMinimize, Mode=TwoWay}"
									ToggleType="CheckBox" />

				<MenuItem Header="CanMaximize"
									IsChecked="{Binding $parent[suki:SukiWindow].CanMaximize, Mode=TwoWay}"
									ToggleType="CheckBox" />

				<MenuItem Header="CanMove"
									IsChecked="{Binding $parent[suki:SukiWindow].CanMove, Mode=TwoWay}"
									ToggleType="CheckBox" />

				<MenuItem Header="CanResize"
									IsChecked="{Binding $parent[suki:SukiWindow].CanResize, Mode=TwoWay}"
									ToggleType="CheckBox" />
			</MenuItem>

		</MenuItem>
		<MenuItem Header="Theme">
			<MenuItem Click="ThemeMenuItem_OnClick"
								Header="Switch To..."
								ItemsSource="{Binding Themes}">
				<MenuItem.DataTemplates>
					<DataTemplate DataType="{x:Type suki:SukiColorTheme}">
						<TextBlock Foreground="{Binding PrimaryBrush}" Text="{Binding DisplayName}" />
					</DataTemplate>
				</MenuItem.DataTemplates>
			</MenuItem>
			<MenuItem Header="-" />
			<MenuItem Command="{Binding CreateCustomThemeCommand}" Header="Create Custom" />
			<MenuItem Header="-" />
			<MenuItem Command="{Binding ShadCnModeCommand}" Header="Shadcn Mode" />
		</MenuItem>
		<MenuItem Header="Background">
			<MenuItem Click="BackgroundMenuItem_OnClick"
								Header="Switch To..."
								ItemsSource="{Binding BackgroundStyles}" />
			<MenuItem Header="-" />
			<MenuItem Command="{Binding ToggleAnimationsCommand}" Header="Animations">
				<MenuItem.Icon>
					<avalonia:MaterialIcon Kind="{Binding AnimationsEnabled, Converter={x:Static converters:BoolToIconConverters.Animation}}" />
				</MenuItem.Icon>
			</MenuItem>
			<MenuItem Command="{Binding ToggleTransitionsCommand}" Header="Transitions">
				<MenuItem.Icon>
					<avalonia:MaterialIcon Kind="{Binding TransitionsEnabled, Converter={x:Static converters:BoolToIconConverters.Animation}}" />
				</MenuItem.Icon>
			</MenuItem>
		</MenuItem>
	</suki:SukiWindow.MenuItems>
	<suki:SukiSideMenu IsSearchEnabled="True"
										 ItemsSource="{Binding Pages}"
										 SelectedItem="{Binding ActivePage}">
		<suki:SukiSideMenu.Styles>
			<Style Selector="Image.AppIcon">
				<Setter Property="Transitions">
					<Transitions>
						<DoubleTransition Property="Opacity" Duration="0.1" />
					</Transitions>
				</Setter>
				<Style Selector="^:pointerover">
					<Setter Property="Opacity" Value="{DynamicResource ThemeDisabledOpacity}" />
				</Style>
			</Style>
		</suki:SukiSideMenu.Styles>
		<suki:SukiSideMenu.ItemTemplate>
			<DataTemplate>
				<suki:SukiSideMenuItem Classes="Compact" Header="{Binding DisplayName}">
					<suki:SukiSideMenuItem.Icon>
						<avalonia:MaterialIcon Kind="{Binding Icon}" />
					</suki:SukiSideMenuItem.Icon>
				</suki:SukiSideMenuItem>
			</DataTemplate>
		</suki:SukiSideMenu.ItemTemplate>

		<suki:SukiSideMenu.HeaderContent>
				<Image Width="100"
						 Height="100"
						 Stretch="Uniform"
					   Classes="AppIcon"
						 IsVisible="{Binding $parent[suki:SukiWindow].((vm:MainWindowViewModel)DataContext).TitleBarVisible}"
						 PointerPressed="InputElement_OnPointerPressed"
						 Source="/Assets/image_utility.png"
						 ToolTip.Tip="Click To Toggle Top Menu.">
					<Image.Effect>
						<DropShadowEffect BlurRadius="4"
														  OffsetX="0"
														  OffsetY="2"
														  Color="Black"
														  Opacity=".4"  />
					</Image.Effect>
				</Image>
		</suki:SukiSideMenu.HeaderContent>

		<suki:SukiSideMenu.FooterContent>
			<StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
				<StackPanel.Styles>
					<Style Selector="Button">
						<Setter Property="Command" Value="{Binding OpenUrlCommand}" />
					</Style>
					<Style Selector="avalonia|MaterialIcon">
						<Setter Property="Width" Value="25" />
						<Setter Property="Height" Value="25" />
					</Style>
				</StackPanel.Styles>
				<Button Classes="Basic"
								CommandParameter="https://github.com/async-void/ImageUtility"
								ToolTip.Tip="Open On GitHub.">
					<avalonia:MaterialIcon Kind="Github" />
				</Button>
				<Button Classes="Basic"
								CommandParameter="https://github.com/async-void/ImageUtility"
								ToolTip.Tip="Settings.">
					<avalonia:MaterialIcon Kind="Cog" />
				</Button>
			</StackPanel>
		</suki:SukiSideMenu.FooterContent>
	</suki:SukiSideMenu>



</suki:SukiWindow>
